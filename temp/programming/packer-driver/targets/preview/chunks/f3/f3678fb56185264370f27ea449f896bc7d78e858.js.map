{"version":3,"sources":["file:///D:/game/FrameworkCocos/assets/vd-games/preschool-exam/script/common/PrefabManager.ts"],"names":["PrefabManager","_decorator","log","ccclass","property","instance","ins","constructor","prefabMap","Map","loadPrefab","bundleName","prefabPath","cached","callback","prefabKey","prefab","get"],"mappings":";;;mFAGaA,a;;;;;;;;;AAHJC,MAAAA,U,OAAAA,U;AAAqCC,MAAAA,G,OAAAA,G;;;;;;;;;OACxC;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBH,U;;+BAEjBD,a,GAAN,MAAMA,aAAN,CAAoB;AAGR,eAARK,QAAQ,GAAkB;AAC7B,cAAG,CAACL,aAAa,CAACM,GAAlB,EAAsB;AAClBN,YAAAA,aAAa,CAACM,GAAd,GAAoB,IAAIN,aAAJ,EAApB;AACH;;AACD,iBAAOA,aAAa,CAACM,GAArB;AACH;;AAGOC,QAAAA,WAAW,GAAE;AAAA,eADbC,SACa,GADoB,IACpB;AACjB,eAAKA,SAAL,GAAiB,IAAIC,GAAJ,EAAjB;AACAP,UAAAA,GAAG,CAAC,aAAD,CAAH;AACH;;AAEDQ,QAAAA,UAAU,CAACC,UAAD,EAAqBC,UAArB,EAAwCC,MAAxC,EAAyDC,QAAzD,EAA6E;AACnF,cAAMC,SAAS,GAAGJ,UAAU,GAAC,GAAX,GAAeC,UAAjC;AACA,cAAII,MAAM,GAAG,KAAKR,SAAL,CAAeS,GAAf,CAAmBF,SAAnB,CAAb;;AACA,cAAGC,MAAH,EAAU;AACN,gBAAGF,QAAH,EAAY;AACRA,cAAAA,QAAQ,CAAC,CAAD,EAAIE,MAAJ,CAAR;AACH;;AACD;AACH,WARkF,CAUnF;;AACH;;AA3BsB,O;;AAAdhB,MAAAA,a,CACMM,G,GAAqB,I","sourcesContent":["import { _decorator, Component, Node, Prefab, log } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport class PrefabManager {\r\n    private static ins: PrefabManager = null;\r\n\r\n    static instance(): PrefabManager {\r\n        if(!PrefabManager.ins){\r\n            PrefabManager.ins = new PrefabManager();\r\n        }\r\n        return PrefabManager.ins;\r\n    }\r\n\r\n    private prefabMap: Map<string, Prefab> = null;\r\n    private constructor(){\r\n        this.prefabMap = new Map<string, Prefab>();\r\n        log(\"prefab init\");\r\n    }\r\n\r\n    loadPrefab(bundleName: string, prefabPath:string, cached: boolean, callback?: Function){\r\n        const prefabKey = bundleName+'/'+prefabPath;\r\n        let prefab = this.prefabMap.get(prefabKey);\r\n        if(prefab){\r\n            if(callback){\r\n                callback(0, prefab);\r\n            }\r\n            return;\r\n        }\r\n\r\n        // BundleManager.instance()\r\n    }\r\n}\r\n\r\n\r\n"]}