{"version":3,"sources":["file:///D:/game/FrameworkCocos/assets/vd-games/preschool-exam/script/screens/science/level4_science.ts"],"names":["_decorator","Component","Node","Prefab","instantiate","log","Graphics","v3","Color","level_progress_bar","ccclass","property","level4_science","graphics","draw","start","initGraphic","on","EventType","TOUCH_START","onTouchStart","bind","onTouchMove","onTouchEnd","gPrefab","area","addChild","nodeG","getComponent","g","strokeColor","BLACK","fillColor","WHITE","miterLimit","lineWidth","lineCap","LineCap","ROUND","lineJoin","LineJoin","event","p","getUILocation","out","inverseTransformPoint","x","y","moveTo","stroke","lineTo","update","deltaTime"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node, Prefab, instantiate, log, Gradient, Graphics, EventTouch, v3, Color } from 'cc';\r\nimport { level_progress_bar } from '../../transiton/level_progress_bar';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('level4_science')\r\nexport class level4_science extends Component {\r\n    @property(level_progress_bar)\r\n    levelBarUI: level_progress_bar = null;\r\n    @property(Node)\r\n    level: Node = null;\r\n    @property(Prefab)\r\n    gPrefab: Prefab = null;\r\n    @property(Node)\r\n    area: Node = null;\r\n\r\n    private graphics = null;\r\n    private draw = null;\r\n    start() {\r\n        this.initGraphic();\r\n        this.draw.on(Node.EventType.TOUCH_START, this.onTouchStart.bind(this));\r\n        this.draw.on(Node.EventType.TOUCH_START, this.onTouchMove.bind(this));\r\n        this.draw.on(Node.EventType.TOUCH_START, this.onTouchEnd.bind(this));\r\n    }\r\n    initGraphic(){\r\n        this.draw = instantiate(this.gPrefab);\r\n        this.area.addChild(this.draw);\r\n        let nodeG = this.draw;\r\n        log(\"check draw: \", this.area);\r\n        this.graphics = nodeG.getComponent(Graphics);\r\n        let g = this.graphics;\r\n        g.strokeColor = Color.BLACK;\r\n        g.fillColor = Color.WHITE;\r\n        g.miterLimit = 10;\r\n        g.lineWidth = 10;\r\n        g.lineCap = Graphics.LineCap.ROUND;\r\n        g.lineJoin = Graphics.LineJoin.ROUND;\r\n        g.lineWidth = 10;\r\n        this.graphics = g;\r\n        // this.graphics = \r\n    }\r\n    onTouchStart(event: EventTouch){\r\n        let p = event.getUILocation();\r\n        let out = v3();\r\n        this.area.inverseTransformPoint(out, v3(p.x, p.y, 0));\r\n        let g = this.graphics;\r\n        g.moveTo(out.x, out.y);\r\n        g.stroke();\r\n    }\r\n    onTouchMove(event: EventTouch){\r\n        let p = event.getUILocation();\r\n        log(\"check p: \", p);\r\n        let out = v3();\r\n        this.area.inverseTransformPoint(out, v3(p.x, p.y, 0));\r\n        let g = this.graphics;\r\n        g.lineTo(out.x, out.y);\r\n        g.stroke();\r\n    }\r\n    onTouchEnd(){\r\n\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n}\r\n\r\n\r\n"]}