{"version":3,"sources":["file:///C:/Users/Admin/Downloads/Telegram%20Desktop/FrameworkCocos/FrameworkCocos/assets/vd-games/pvp-exam/script/ex_Scene.ts"],"names":["_decorator","Component","log","assetManager","ccclass","property","ex_Scence","onLoad","bundle","getBundle","dm_Config","GAME_NAME","node","addComponent","VDScreenManager","instance","assetBundle","setupCommon","load","Prefab","error","prefab","initWithRootScreen","screen","name","onDestroy","VDAudioManager","destroy","VDAsyncTaskMgr","stop"],"mappings":";;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,G,OAAAA,G;AAAKC,MAAAA,Y,OAAAA,Y;;;;;;;;;OACrC;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;2BAGjBM,S,WADZF,OAAO,CAAC,WAAD,C,gBAAR,MACaE,SADb,SAC+BL,SAD/B,CACyC;AACrCM,QAAAA,MAAM,GAAG;AACLL,UAAAA,GAAG,CAAC,yBAAD,CAAH;AACA,cAAIM,MAAM,GAAGL,YAAY,CAACM,SAAb,CAAuB,YAAYC,SAAS,CAACC,SAA7C,CAAb;;AACA,cAAIH,MAAJ,EAAY;AACR,iBAAKI,IAAL,CAAUC,YAAV,CAAuBC,eAAvB;AAEAA,YAAAA,eAAe,CAACC,QAAhB,CAAyBC,WAAzB,GAAuCR,MAAvC;AACAM,YAAAA,eAAe,CAACC,QAAhB,CAAyBE,WAAzB;AAEAT,YAAAA,MAAM,CAACU,IAAP,CAAY,mCAAZ,EAAiDC,MAAjD,EAAyD,CAACC,KAAD,EAAQC,MAAR,KAAmB;AACxE,kBAAID,KAAJ,EAAW;AACPlB,gBAAAA,GAAG,mBAAiBkB,KAAjB,CAAH;AACH,eAFD,MAGK;AACDlB,gBAAAA,GAAG,CAAC,qBAAD,CAAH,CADC,CAED;;AACAY,gBAAAA,eAAe,CAACC,QAAhB,CAAyBO,kBAAzB,CAA4CD,MAA5C,EAAqDE,MAAD,IAAY;AAC5DrB,kBAAAA,GAAG,CAAC,wBAAwBqB,MAAM,CAACC,IAA/B,GAAsC,WAAvC,CAAH;AACH,iBAFD;AAGH;AACJ,aAXD;AAYH;AACJ;;AAEDC,QAAAA,SAAS,GAAG;AACRC,UAAAA,cAAc,CAACX,QAAf,CAAwBY,OAAxB;AACAC,UAAAA,cAAc,CAACb,QAAf,CAAwBc,IAAxB;AACH;;AA5BoC,O","sourcesContent":["import { _decorator, Component, Node, log, assetManager } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('ex_Scence')\r\nexport class ex_Scence extends Component {\r\n    onLoad() {\r\n        log(\"@ dm_Scene: onLoad  !!!\");\r\n        let bundle = assetManager.getBundle(\"bundle_\" + dm_Config.GAME_NAME);\r\n        if (bundle) {\r\n            this.node.addComponent(VDScreenManager);\r\n\r\n            VDScreenManager.instance.assetBundle = bundle;\r\n            VDScreenManager.instance.setupCommon();\r\n\r\n            bundle.load(\"res/prefabs/screen/loading_screen\", Prefab, (error, prefab) => {\r\n                if (error) {\r\n                    log(`bundle.load: ${error}`);\r\n                }\r\n                else {\r\n                    log(\"load loading sucess\")\r\n                    // VDScreenManager.instance.initWithRootScreen(prefab);\r\n                    VDScreenManager.instance.initWithRootScreen(prefab, (screen) => {\r\n                        log('initWithRootScreen ' + screen.name + ' success!');\r\n                    });\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    onDestroy() {\r\n        VDAudioManager.instance.destroy();\r\n        VDAsyncTaskMgr.instance.stop();\r\n    }\r\n}\r\n\r\n\r\n"]}