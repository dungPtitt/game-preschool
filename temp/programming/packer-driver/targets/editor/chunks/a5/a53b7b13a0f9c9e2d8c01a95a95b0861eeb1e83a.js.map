{"version":3,"sources":["file:///D:/game/FrameworkCocos/assets/vd-games/preschool-exam/script/transiton/level_progress_bar.ts"],"names":["_decorator","Component","ProgressBar","Label","LocalDataManager","ccclass","property","level_progress_bar","start","levelProgress","progress","getNumber","levelLabel","string","getString","init","handleProgress","currentLevel","Number","String","setNumber","setString","update","deltaTime"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,K,OAAAA,K;;AAC5CC,MAAAA,gB;;;;;;;;;OACD;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;oCAGjBO,kB,WADZF,OAAO,CAAC,oBAAD,C,UAEHC,QAAQ,CAACJ,WAAD,C,UAERI,QAAQ,CAACH,KAAD,C,2BAJb,MACaI,kBADb,SACwCN,SADxC,CACkD;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AAK9CO,QAAAA,KAAK,GAAG;AACJ,eAAKC,aAAL,CAAmBC,QAAnB,GAA8B;AAAA;AAAA,oDAAiBC,SAAjB,CAA2B,SAA3B,EAAsC,CAAtC,CAA9B;AACA,eAAKC,UAAL,CAAgBC,MAAhB,GAAyB;AAAA;AAAA,oDAAiBC,SAAjB,CAA2B,OAA3B,EAAoC,GAApC,CAAzB;AACH;;AACDC,QAAAA,IAAI,GAAE;AACF,eAAKN,aAAL,CAAmBC,QAAnB,GAA8B,CAA9B;AACH;;AACDM,QAAAA,cAAc,GAAE;AACZ,cAAIC,YAAY,GAAGC,MAAM,CAAC,KAAKN,UAAL,CAAgBC,MAAjB,CAAzB;;AACA,cAAGI,YAAY,IAAE,EAAd,IAAoBA,YAAY,IAAE,EAArC,EAAwC;AACpC,iBAAKR,aAAL,CAAmBC,QAAnB,IAA+B,GAA/B;AACH,WAFD,MAEK;AACD,iBAAKD,aAAL,CAAmBC,QAAnB,IAA+B,IAAE,CAAjC;AACH;;AAED,cAAG,KAAKD,aAAL,CAAmBC,QAAnB,IAA+B,IAAlC,EAAuC;AACnC,iBAAKD,aAAL,CAAmBC,QAAnB,GAA8B,CAA9B;AACA,iBAAKE,UAAL,CAAgBC,MAAhB,GAAyBM,MAAM,CAACF,YAAY,GAAC,CAAd,CAA/B;AACH;;AACD;AAAA;AAAA,oDAAiBG,SAAjB,CAA2B,SAA3B,EAAsC,KAAKX,aAAL,CAAmBC,QAAzD;AACA;AAAA;AAAA,oDAAiBW,SAAjB,CAA2B,OAA3B,EAAoC,KAAKT,UAAL,CAAgBC,MAApD;AACH;;AAEDS,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AA9B6C,O;;;;;iBAEjB,I;;;;;;;iBAET,I","sourcesContent":["import { _decorator, Component, Node, ProgressBar, Label, log } from 'cc';\r\nimport LocalDataManager from '../common/LocalDataManager';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('level_progress_bar')\r\nexport class level_progress_bar extends Component {\r\n    @property(ProgressBar)\r\n    levelProgress: ProgressBar = null;\r\n    @property(Label)\r\n    levelLabel: Label = null;\r\n    start() {\r\n        this.levelProgress.progress = LocalDataManager.getNumber(\"percent\", 0);\r\n        this.levelLabel.string = LocalDataManager.getString(\"level\", \"1\");\r\n    }\r\n    init(){\r\n        this.levelProgress.progress = 0;\r\n    }\r\n    handleProgress(){\r\n        let currentLevel = Number(this.levelLabel.string);\r\n        if(currentLevel<=10 || currentLevel>=25){\r\n            this.levelProgress.progress += 0.2;\r\n        }else{\r\n            this.levelProgress.progress += 1/7;\r\n        }\r\n        \r\n        if(this.levelProgress.progress >= 0.95){\r\n            this.levelProgress.progress = 0;\r\n            this.levelLabel.string = String(currentLevel+1);\r\n        }\r\n        LocalDataManager.setNumber(\"percent\", this.levelProgress.progress);\r\n        LocalDataManager.setString(\"level\", this.levelLabel.string);\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n}\r\n\r\n\r\n"]}