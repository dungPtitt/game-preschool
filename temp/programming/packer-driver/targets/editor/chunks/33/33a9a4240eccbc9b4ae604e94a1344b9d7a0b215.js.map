{"version":3,"sources":["file:///D:/game/FrameworkCocos/assets/vd-games/preschool-exam/script/transiton/drappable.ts"],"names":["_decorator","Component","Node","Vec3","ccclass","property","drappable","_startPosition","start","node","on","EventType","TOUCH_START","onTouchStart","bind","TOUCH_MOVE","onTouchMove","TOUCH_END","onTouchEnd","p","getWorldPosition","x","y","emit","event","getUILocation","setWorldPosition","update","deltaTime"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,I,OAAAA,I;;;;;;;;;OAChC;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;2BAGjBM,S,WADZF,OAAO,CAAC,WAAD,C,UAEHC,QAAQ,CAACH,IAAD,C,2BAFb,MACaI,SADb,SAC+BL,SAD/B,CACyC;AAAA;AAAA;;AAAA;;AAAA,eAG7BM,cAH6B,GAGN,IAAIJ,IAAJ,CAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,CAHM;AAAA;;AAIrCK,QAAAA,KAAK,GAAG;AACJ,eAAKC,IAAL,CAAUC,EAAV,CAAaR,IAAI,CAACS,SAAL,CAAeC,WAA5B,EAAyC,KAAKC,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAAzC;AACA,eAAKL,IAAL,CAAUC,EAAV,CAAaR,IAAI,CAACS,SAAL,CAAeI,UAA5B,EAAwC,KAAKC,WAAL,CAAiBF,IAAjB,CAAsB,IAAtB,CAAxC;AACA,eAAKL,IAAL,CAAUC,EAAV,CAAaR,IAAI,CAACS,SAAL,CAAeM,SAA5B,EAAuC,KAAKC,UAAL,CAAgBJ,IAAhB,CAAqB,IAArB,CAAvC;AACH;;AAEDD,QAAAA,YAAY,GAAG;AACX,cAAIM,CAAC,GAAG,KAAKV,IAAL,CAAUW,gBAAV,EAAR;AACA,eAAKb,cAAL,GAAsB,IAAIJ,IAAJ,CAASgB,CAAC,CAACE,CAAX,EAAcF,CAAC,CAACG,CAAhB,EAAmB,CAAnB,CAAtB;AACA,eAAKb,IAAL,CAAUc,IAAV,CAAe,YAAf;AACH;;AAEDP,QAAAA,WAAW,CAACQ,KAAD,EAAmB;AAC1B,cAAIL,CAAC,GAAGK,KAAK,CAACC,aAAN,EAAR;AACA,eAAKhB,IAAL,CAAUiB,gBAAV,CAA2BP,CAAC,CAACE,CAA7B,EAAgCF,CAAC,CAACG,CAAlC,EAAqC,CAArC;AACA,eAAKb,IAAL,CAAUc,IAAV,CAAe,aAAf,EAA8B,KAAKd,IAAnC;AACH;;AAEDS,QAAAA,UAAU,GAAE;AACR,eAAKT,IAAL,CAAUiB,gBAAV,CAA2B,KAAKnB,cAAL,CAAoBc,CAA/C,EAAkD,KAAKd,cAAL,CAAoBe,CAAtE,EAAyE,CAAzE;AACH;;AACDK,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AA3BoC,O;;;;;iBAEhB,I","sourcesContent":["import { _decorator, Component, Node, Vec3, EventTouch } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('drappable')\r\nexport class drappable extends Component {\r\n    @property(Node)\r\n    itemSelected: Node = null;\r\n    private _startPosition: Vec3 = new Vec3(0, 0, 0);\r\n    start() {\r\n        this.node.on(Node.EventType.TOUCH_START, this.onTouchStart.bind(this));\r\n        this.node.on(Node.EventType.TOUCH_MOVE, this.onTouchMove.bind(this));\r\n        this.node.on(Node.EventType.TOUCH_END, this.onTouchEnd.bind(this));\r\n    }\r\n\r\n    onTouchStart() {\r\n        let p = this.node.getWorldPosition();\r\n        this._startPosition = new Vec3(p.x, p.y, 0);\r\n        this.node.emit('i-am-start');\r\n    }\r\n\r\n    onTouchMove(event: EventTouch){\r\n        let p = event.getUILocation();\r\n        this.node.setWorldPosition(p.x, p.y, 0);\r\n        this.node.emit('i-am-moving', this.node);\r\n    }\r\n\r\n    onTouchEnd(){\r\n        this.node.setWorldPosition(this._startPosition.x, this._startPosition.y, 0);\r\n    }\r\n    update(deltaTime: number) {\r\n        \r\n    }\r\n}\r\n\r\n\r\n"]}