{"version":3,"sources":["file:///C:/Users/Admin/Downloads/Telegram%20Desktop/FrameworkCocos/FrameworkCocos/assets/vd-framework/audio/VDAudio.ts"],"names":["VDAudio","musicPath","effectPath","_mutingMusic","_mutingEffect","_musicVolume","_effectVolume","isMutingMusic","value","pauseBGM","resumeBGM","isMutingEffect","stopClip","stopAllEffects","musicVolume","effectVolume","FADE_DURATION"],"mappings":";;;kEAGsBA,O;;;;;;;;;;;;;;;;;yBAAAA,O,GAAf,MAAeA,OAAf,CAAuB;AAAA;AAAA,eAGnBC,SAHmB,GAGC,iBAHD;AAAA,eAInBC,UAJmB,GAIE,iBAJF;AAAA,eAMhBC,YANgB,GAMQ,KANR;AAAA,eAsBhBC,aAtBgB,GAsBS,KAtBT;AAAA,eAoChBC,YApCgB,GAoCD,GApCC;AAAA,eA8ChBC,aA9CgB,GA8CA,CA9CA;AAAA;;AAOT,YAAbC,aAAa,GAAY;AACzB,iBAAO,KAAKJ,YAAZ;AACH;;AACgB,YAAbI,aAAa,CAACC,KAAD,EAAiB;AAC9B,cAAI,KAAKL,YAAL,IAAqBK,KAAzB,EAAgC;AAC5B,iBAAKL,YAAL,GAAoBK,KAApB;AACH;;AACD,cAAI,KAAKL,YAAT,EAAuB;AACnB,iBAAKM,QAAL,CAAc,KAAd;AACH,WAFD,MAGK;AACD,iBAAKC,SAAL,CAAe,KAAf;AACH;AACJ;;AAGiB,YAAdC,cAAc,GAAY;AAC1B,iBAAO,KAAKP,aAAZ;AACH;;AACiB,YAAdO,cAAc,CAACH,KAAD,EAAiB;AAC/B,cAAI,KAAKJ,aAAL,IAAsBI,KAA1B,EAAiC;AAC7B,iBAAKJ,aAAL,GAAqBI,KAArB;AACH;;AACD,cAAI,KAAKJ,aAAT,EAAwB;AACpB,iBAAKQ,QAAL,CAAc,KAAd,EAAqB,IAArB;AACA,iBAAKC,cAAL,CAAoB,KAApB;AACH;AACJ;;AAGc,YAAXC,WAAW,GAAG;AACd,iBAAO,KAAKT,YAAZ;AACH;;AACc,YAAXS,WAAW,CAACN,KAAD,EAAQ;AACnB,cAAI,KAAKH,YAAL,IAAqBG,KAAzB,EAAgC;AAC5B,iBAAKH,YAAL,GAAoBG,KAApB;AACH;AACJ;;AAGe,YAAZO,YAAY,GAAG;AACf,iBAAO,KAAKT,aAAZ;AACH;;AACe,YAAZS,YAAY,CAACP,KAAD,EAAQ;AACpB,cAAI,KAAKF,aAAL,IAAsBE,KAA1B,EAAiC;AAC7B,iBAAKF,aAAL,GAAqBE,KAArB;AACH;AACJ;;AAtDyB,O;;AAARR,MAAAA,O,CAEJgB,a,GAAgB,G","sourcesContent":["\nimport { _decorator } from 'cc';\n\nexport abstract class VDAudio {\n\n    public static FADE_DURATION = 0.2;\n    public musicPath: string = 'res/sounds/bgm/';\n    public effectPath: string = 'res/sounds/sfx/';\n\n    protected _mutingMusic: boolean = false;\n    get isMutingMusic(): boolean {\n        return this._mutingMusic;\n    }\n    set isMutingMusic(value: boolean) {\n        if (this._mutingMusic != value) {\n            this._mutingMusic = value;\n        }\n        if (this._mutingMusic) {\n            this.pauseBGM(false);\n        }\n        else {\n            this.resumeBGM(false);\n        }\n    }\n\n    protected _mutingEffect: boolean = false;\n    get isMutingEffect(): boolean {\n        return this._mutingEffect;\n    }\n    set isMutingEffect(value: boolean) {\n        if (this._mutingEffect != value) {\n            this._mutingEffect = value;\n        }\n        if (this._mutingEffect) {\n            this.stopClip(false, null);\n            this.stopAllEffects(false);\n        }\n    }\n\n    protected _musicVolume = 1.0;\n    get musicVolume() {\n        return this._musicVolume;\n    }\n    set musicVolume(value) {\n        if (this._musicVolume != value) {\n            this._musicVolume = value;\n        }\n    }\n\n    protected _effectVolume = 1;\n    get effectVolume() {\n        return this._effectVolume;\n    }\n    set effectVolume(value) {\n        if (this._effectVolume != value) {\n            this._effectVolume = value;\n        }\n    }\n\n    abstract init(data: any): void;\n    abstract playBGM(name: string, fade: boolean): void;\n    abstract pauseBGM(fade: boolean): void;\n    abstract resumeBGM(fade: boolean);\n\n    abstract playClip(name: string, loop: boolean, resumeBGM: boolean, callback: VoidFunction | null);\n    abstract stopClip(resumeBGM: boolean, callback: VoidFunction | null);\n\n    abstract playEffect(name: string, loop: boolean, callback: VoidFunction | null): string | null;\n    abstract stopEffect(sfxId: string, fade: boolean): boolean;\n    abstract stopEffectByName(name: string, fade: boolean): boolean;\n    abstract resumeEffect(sfxId: string, fade: boolean);\n    abstract pauseEffect(sfxId: string, fade: boolean);\n\n    abstract stopAllEffects(fade: boolean);\n    abstract pauseAllEffects(fade: boolean);\n    abstract resumeAllEffects(fade: boolean);\n\n    abstract destroy();\n\n}\n"]}