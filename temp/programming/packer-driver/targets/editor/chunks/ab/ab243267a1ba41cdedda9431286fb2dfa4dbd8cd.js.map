{"version":3,"sources":["file:///D:/game/FrameworkCocos/assets/vd-games/preschool-exam/script/draw/graphic_filling.ts"],"names":["_decorator","Component","Node","Vec3","Graphics","Vec2","v3","ccclass","property","temp_vec2","graphic_filling","pos","worldPos","graphics","minX","minY","maxX","maxY","start","initGraphics","node","on","EventType","TOUCH_START","onTouchStart","TOUCH_MOVE","onTouchMove","getComponent","lineWidth","onDestroy","off","event","pStart","getUILocation","out","area","inverseTransformPoint","x","y","g","moveTo","stroke","newP","lineTo","clear"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,Q,OAAAA,Q;AAAmCC,MAAAA,I,OAAAA,I;AAAYC,MAAAA,E,OAAAA,E;;;;;;;;;OACrF;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;AAExBS,MAAAA,S,GAAY,IAAIJ,IAAJ,E;;iCAGLK,e,WADZH,OAAO,CAAC,iBAAD,C,UAEHC,QAAQ,CAACN,IAAD,C,2BAFb,MACaQ,eADb,SACqCT,SADrC,CAC+C;AAAA;AAAA;;AAAA;;AAAA,eAG3CU,GAH2C,GAGrC,IAAIR,IAAJ,EAHqC;AAAA,eAI3CS,QAJ2C,GAIhC,IAAIT,IAAJ,EAJgC;AAAA,eAK3CU,QAL2C,GAKtB,IALsB;AAAA,eAO3CC,IAP2C,GAOpC,CAPoC;AAAA,eAQ3CC,IAR2C,GAQpC,CARoC;AAAA,eAS3CC,IAT2C,GASpC,CAToC;AAAA,eAU3CC,IAV2C,GAUpC,CAVoC;AAAA;;AAY3CC,QAAAA,KAAK,GAAG;AACJ,eAAKC,YAAL;AACA,eAAKC,IAAL,CAAUC,EAAV,CAAanB,IAAI,CAACoB,SAAL,CAAeC,WAA5B,EAAyC,KAAKC,YAA9C,EAA4D,IAA5D;AACA,eAAKJ,IAAL,CAAUC,EAAV,CAAanB,IAAI,CAACoB,SAAL,CAAeG,UAA5B,EAAwC,KAAKC,WAA7C,EAA0D,IAA1D;AAEH;;AACDP,QAAAA,YAAY,GAAE;AACV,eAAKN,QAAL,GAAgB,KAAKc,YAAL,CAAkBvB,QAAlB,CAAhB;AACA,eAAKS,QAAL,CAAce,SAAd,GAA0B,EAA1B;AACH;;AAEDC,QAAAA,SAAS,GAAE;AACP,eAAKT,IAAL,CAAUU,GAAV,CAAc5B,IAAI,CAACoB,SAAL,CAAeC,WAA7B,EAA0C,KAAKC,YAA/C,EAA6D,IAA7D;AACA,eAAKJ,IAAL,CAAUU,GAAV,CAAc5B,IAAI,CAACoB,SAAL,CAAeG,UAA7B,EAAyC,KAAKC,WAA9C,EAA2D,IAA3D;AACH;;AAEDF,QAAAA,YAAY,CAACO,KAAD,EAAoB;AAC5B,cAAIC,MAAM,GAAGD,KAAK,CAACE,aAAN,EAAb;AACA,cAAIC,GAAG,GAAG5B,EAAE,EAAZ;AACA,eAAK6B,IAAL,CAAUC,qBAAV,CAAgCF,GAAhC,EAAqC5B,EAAE,CAAC0B,MAAM,CAACK,CAAR,EAAWL,MAAM,CAACM,CAAlB,EAAqB,CAArB,CAAvC;AACA,cAAIC,CAAC,GAAG,KAAK1B,QAAb;AACA0B,UAAAA,CAAC,CAACC,MAAF,CAASN,GAAG,CAACG,CAAb,EAAgBH,GAAG,CAACI,CAApB;AACAC,UAAAA,CAAC,CAACE,MAAF;AAEH;;AAEDf,QAAAA,WAAW,CAACK,KAAD,EAAoB;AAC3B,cAAIW,IAAI,GAAGX,KAAK,CAACE,aAAN,EAAX;AACA,cAAIC,GAAG,GAAG5B,EAAE,EAAZ;AACA,eAAK6B,IAAL,CAAUC,qBAAV,CAAgCF,GAAhC,EAAqC5B,EAAE,CAACoC,IAAI,CAACL,CAAN,EAASK,IAAI,CAACJ,CAAd,EAAiB,CAAjB,CAAvC;AACA,cAAIC,CAAC,GAAG,KAAK1B,QAAb;AACA0B,UAAAA,CAAC,CAACI,MAAF,CAAST,GAAG,CAACG,CAAb,EAAgBH,GAAG,CAACI,CAApB;AACAC,UAAAA,CAAC,CAACE,MAAF;AACH;;AAEDG,QAAAA,KAAK,GAAE;AACH,eAAK/B,QAAL,CAAc+B,KAAd;AACH;;AAjD0C,O;;;;;iBAE9B,I","sourcesContent":["import { _decorator, Component, Node, Vec3, Graphics, UITransform, EventTouch, Vec2, math, v3 } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\nconst temp_vec2 = new Vec2();\r\n\r\n@ccclass('graphic_filling')\r\nexport class graphic_filling extends Component {\r\n    @property(Node)\r\n    area: Node = null;\r\n    pos = new Vec3();\r\n    worldPos = new Vec3();\r\n    graphics: Graphics = null!;\r\n\r\n    minX = 0;\r\n    minY = 0;\r\n    maxX = 0;\r\n    maxY = 0;\r\n\r\n    start() {\r\n        this.initGraphics();\r\n        this.node.on(Node.EventType.TOUCH_START, this.onTouchStart, this);\r\n        this.node.on(Node.EventType.TOUCH_MOVE, this.onTouchMove, this);\r\n        \r\n    }\r\n    initGraphics(){\r\n        this.graphics = this.getComponent(Graphics);\r\n        this.graphics.lineWidth = 10;\r\n    }\r\n\r\n    onDestroy(){\r\n        this.node.off(Node.EventType.TOUCH_START, this.onTouchStart, this);\r\n        this.node.off(Node.EventType.TOUCH_MOVE, this.onTouchMove, this);\r\n    }\r\n\r\n    onTouchStart(event: EventTouch) {\r\n        let pStart = event.getUILocation();\r\n        let out = v3();\r\n        this.area.inverseTransformPoint(out, v3(pStart.x, pStart.y, 0));\r\n        let g = this.graphics;\r\n        g.moveTo(out.x, out.y);\r\n        g.stroke();\r\n        \r\n    }\r\n\r\n    onTouchMove(event: EventTouch) {\r\n        let newP = event.getUILocation();\r\n        let out = v3();\r\n        this.area.inverseTransformPoint(out, v3(newP.x, newP.y, 0));\r\n        let g = this.graphics;\r\n        g.lineTo(out.x, out.y);\r\n        g.stroke();\r\n    }\r\n\r\n    clear(){\r\n        this.graphics.clear();\r\n    }\r\n}\r\n\r\n\r\n"]}